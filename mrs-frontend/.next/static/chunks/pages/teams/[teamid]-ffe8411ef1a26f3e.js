(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{8838:function(e,n,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/teams/[teamid]",function(){return a(4611)}])},4611:function(e,n,a){"use strict";a.r(n),a.d(n,{default:function(){return Z}});var s=a(5893),i=a(7294),t=a(1163),c=a(1664),r=a.n(c);let l="".concat("https://team-manager-backend.up.railway.app","/api/teams");async function m(e,n){let a=await fetch("".concat(l,"/").concat(e)),s=await a.json();n(s)}async function d(e,n,a,s,i){let t={name:n.currentTarget.teamname.value};if(!t.name){i("Please choose a name.");return}if(1!=t.name.split(" ").length){i("Names cannot contain a space.");return}let c={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)},r=await fetch("".concat(l,"/").concat(e),c);r.ok?(await m(e,a),s(!1),i("")):i("Team name already taken.")}var o=a(2256),h=a(9795),x=a(967),p=a(8239),j=a(5142),f=a(416),u=a(8156),N=a(7027);function Z(){let e=(0,t.useRouter)(),{teamid:n}=e.query,[a,c]=(0,i.useState)({id:"",name:"",employees:[]});(0,i.useEffect)(()=>{n&&m(n,c)},[n]);let[l,Z]=(0,i.useState)(!1),[y,v]=(0,i.useState)("");return(0,s.jsxs)("main",{className:"specificteam-main",children:[(0,s.jsxs)("nav",{className:"specificteam-navbar",children:[(0,s.jsx)(r(),{className:"specificteam-navlink",href:"/",children:"Home"}),(0,s.jsx)(r(),{className:"specificteam-navlink",href:"/teams",children:"Teams"}),(0,s.jsx)(r(),{className:"specificteam-navlink",href:"/employees",children:"People"})]}),(0,s.jsxs)("div",{className:"specificteam-body-container",children:[(0,s.jsx)("div",{className:"specificteam-content-wrap",children:(0,s.jsx)("div",{className:"specificteam-card-container",children:(0,s.jsxs)(o.Z,{fluid:!0,children:[(0,s.jsxs)(o.Z.Content,{children:[(0,s.jsx)(o.Z.Header,{style:{color:"#4183C4"},textAlign:"center",children:a.name}),(0,s.jsx)(o.Z.Description,{children:(0,s.jsx)("div",{className:"specificteam-employee-box",children:a.employees.map(e=>(0,s.jsxs)("div",{className:"specificteam-employee",children:[(0,s.jsxs)("div",{children:[e.firstName," ",e.lastName]}),(0,s.jsx)("div",{children:e.type})]},e.id))})})]}),(0,s.jsx)(o.Z.Content,{extra:!0,children:(0,s.jsxs)(h.Z,{animation:!1,onClose:()=>Z(!1),onOpen:()=>Z(!0),open:l,trigger:(0,s.jsx)(x.Z,{className:"specificteam-modal-btn",inverted:!0,color:"orange",children:"Change Team Name"}),children:[(0,s.jsx)(h.Z.Header,{children:"Rename Team"}),(0,s.jsxs)(h.Z.Content,{children:[(0,s.jsxs)(p.Z,{onSubmit:e=>{e.preventDefault(),d(a.id,e,c,Z,v)},children:[(0,s.jsxs)(p.Z.Field,{children:[(0,s.jsx)(j.Z,{children:"Team Name"}),(0,s.jsx)(f.Z,{icon:"users",placeholder:"Name your team",type:"text",name:"teamname"})]}),(0,s.jsx)(x.Z,{type:"submit",children:"Change Team Name"})]}),y.length>0?(0,s.jsx)(u.Z,{warning:!0,children:(0,s.jsx)("p",{children:y})}):null]})]})})]})})}),(0,s.jsx)("footer",{className:"specificteam-footer",children:(0,s.jsxs)(N.Z,{horizontal:!0,relaxed:"very",inverted:!0,children:[(0,s.jsx)(N.Z.Item,{children:(0,s.jsx)(N.Z.Content,{children:(0,s.jsx)(N.Z.Header,{children:"Simon.H"})})}),(0,s.jsx)(N.Z.Item,{children:(0,s.jsx)(N.Z.Content,{children:(0,s.jsx)(N.Z.Header,{children:"Rasmus.R"})})}),(0,s.jsx)(N.Z.Item,{children:(0,s.jsx)(N.Z.Content,{children:(0,s.jsx)(N.Z.Header,{children:"Mona.T"})})})]})})]})]})}},1163:function(e,n,a){e.exports=a(6885)}},function(e){e.O(0,[267,550,774,888,179],function(){return e(e.s=8838)}),_N_E=e.O()}]);