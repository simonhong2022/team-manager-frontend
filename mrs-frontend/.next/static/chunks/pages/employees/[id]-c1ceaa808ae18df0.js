(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[743],{3465:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/employees/[id]",function(){return t(6570)}])},7002:function(e,n,t){"use strict";t.d(n,{ZZ:function(){return i},fC:function(){return c},fg:function(){return s},s9:function(){return r}});let a="".concat("https://team-manager-backend.up.railway.app","/api/teams");async function i(e){let n=await fetch(a),t=await n.json();e(t)}async function s(e,n,t,s){let c={name:e.currentTarget.teamname.value};if(!c.name){s("Please choose a name.");return}if(1!=c.name.split(" ").length){s("Names cannot contain a space.");return}let r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)},o=await fetch(a,r);o.ok?(await i(n),t(!1),s("")):s("Team name already taken.")}async function c(e,n){await fetch("".concat(a,"/").concat(e),{method:"DELETE"}),await i(n)}async function r(e,n,t){let a={empId:e,teamToId:n};if(!a.teamToId){alert("Please choose a teamid.");return}let s={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)};await fetch("".concat("https://team-manager-backend.up.railway.app","/api/employees"),s),await i(t)}},6570:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return g}});var a=t(5893),i=t(1163),s=t(7294),c=t(2256),r=t(7257),o=t(9795),l=t(967),m=t(8239),d=t(5142),h=t(8156),p=t(7027),u=t(1664),f=t.n(u);let j="".concat("https://team-manager-backend.up.railway.app","/api/employees");async function x(e,n){let t=await fetch("".concat(j,"/").concat(e)),a=await t.json();n(a)}async function y(e,n,t,a,i){let s={empId:e,teamToId:n};if(!s.teamToId){i("Please choose a team id.");return}let c={method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)};await fetch(j,c),await x(e,t),a(!1),i("")}var Z=t(7002);function g(){let e=(0,i.useRouter)(),{id:n}=e.query,[t,u]=(0,s.useState)([]),[j,g]=(0,s.useState)({id:"",firstName:"",lastName:"",type:"",months:0,teamId:"",teamName:""});(0,s.useEffect)(()=>{n&&(x(n,g),(0,Z.ZZ)(u))},[n]);let[w,N]=(0,s.useState)(!1),[T,C]=(0,s.useState)(""),[v,b]=(0,s.useState)("");return(0,a.jsxs)("main",{className:"specificemployee-main",children:[(0,a.jsxs)("nav",{className:"specificemployee-navbar",children:[(0,a.jsx)(f(),{className:"specificemployee-navlink",href:"/",children:"Home"}),(0,a.jsx)(f(),{className:"specificemployee-navlink",href:"/teams",children:"Teams"}),(0,a.jsx)(f(),{className:"specificemployee-navlink",href:"/employees",children:"People"})]}),(0,a.jsxs)("div",{className:"specificemployee-body-container",children:[(0,a.jsx)("div",{className:"specificemployee-content-wrap",children:(0,a.jsx)("div",{className:"specificemployee-card-container",children:(0,a.jsxs)(c.Z,{fluid:!0,children:[(0,a.jsxs)(c.Z.Content,{children:[(0,a.jsx)(r.Z,{floated:"right",rounded:!0,src:"https://react.semantic-ui.com/images/wireframe/image.png",style:{height:45,width:50}}),(0,a.jsxs)(c.Z.Header,{children:[j.firstName," ",j.lastName]}),(0,a.jsx)(c.Z.Meta,{children:j.teamName}),(0,a.jsxs)(c.Z.Description,{children:["Working as  ",(0,a.jsx)("strong",{children:j.type})," for ",(0,a.jsxs)("strong",{children:[j.months,"  months."]})]})]}),(0,a.jsx)(c.Z.Content,{extra:!0,children:(0,a.jsxs)(o.Z,{animation:!1,onClose:()=>N(!1),onOpen:()=>N(!0),open:w,trigger:(0,a.jsx)(l.Z,{className:"specificemployee-modal-btn",basic:!0,color:"green",children:"Change Team"}),children:[(0,a.jsx)(o.Z.Header,{children:"Change Employee Team."}),(0,a.jsxs)(o.Z.Content,{children:[(0,a.jsxs)(m.Z,{onSubmit:e=>{e.preventDefault(),y(j.id,T,g,N,b)},children:[(0,a.jsx)(d.Z,{children:"Team"}),(0,a.jsx)(m.Z.Select,{type:"text",placeholder:"team name",fluid:!0,selection:!0,options:t.map(e=>({key:e.id,text:e.name,value:e.id})),onChange:(e,n)=>{C(String(n.value))}}),(0,a.jsx)(l.Z,{type:"submit",children:"Change the Team"})]}),v.length>0?(0,a.jsx)(h.Z,{warning:!0,children:(0,a.jsx)("p",{children:v})}):null]})]})})]})})}),(0,a.jsx)("footer",{className:"specificteam-footer",children:(0,a.jsxs)(p.Z,{horizontal:!0,relaxed:"very",inverted:!0,children:[(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(p.Z.Content,{children:(0,a.jsx)(p.Z.Header,{children:"Simon.H"})})}),(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(p.Z.Content,{children:(0,a.jsx)(p.Z.Header,{children:"Rasmus.R"})})}),(0,a.jsx)(p.Z.Item,{children:(0,a.jsx)(p.Z.Content,{children:(0,a.jsx)(p.Z.Header,{children:"Mona.T"})})})]})})]})]})}},1163:function(e,n,t){e.exports=t(6885)}},function(e){e.O(0,[267,550,774,888,179],function(){return e(e.s=3465)}),_N_E=e.O()}]);